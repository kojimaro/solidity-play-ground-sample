(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{251:function(e,t){e.exports=Module},260:function(e,t,a){e.exports=a(773)},265:function(e,t,a){},269:function(e){e.exports={}},298:function(e,t){},300:function(e,t){},328:function(e,t){},373:function(e,t){},771:function(e,t,a){},773:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(32),o=a.n(i),c=(a(265),a(28)),s=a.n(c),l=a(46),u=a(41),d=a(42),m=a(44),h=a(43),p=a(45),f=(a(269),a(65)),g=a.n(f),v=a(27),b=a(21),y=a.n(b),E=a(77),w=a.n(E),x=a(102),C=a.n(x),S=function(e){var t=e.width,a=e.height,n=e.language,i=e.value,o=e.options,c=e.onChange,s=e.editorDidMount;return r.a.createElement(C.a,{width:t,height:a,language:n,value:i,options:o,onChange:c,editorDidMount:s,theme:"vs-dark"})},j=function(e){var t=e.width,a=e.height,n=e.language,i=e.original,o=e.modified,c=e.options,s=e.handleChange,l=e.editorDidMount;return r.a.createElement(x.MonacoDiffEditor,{width:t,height:a,language:n,original:i,value:o,options:c,onChange:s,editorDidMount:l})},O=a(253),k=a.n(O),D=function(e){var t=e.variant,a=e.color,n=e.label,i=e.onClick,o=e.fullWidth,c=e.dataId;return r.a.createElement(k.a,{type:"submit",variant:t,color:a,onClick:i,fullWidth:o,"data-id":c},n)},N=Object(v.withStyles)(function(e){return{container:{display:"flex",flexWrap:"wrap",margin:e.spacing.unit}}})(function(e){var t=e.classes,a=e.handleSubmit,n=e.showAnswer;return r.a.createElement("div",{className:t.container},r.a.createElement(y.a,{container:!0,spacing:8},r.a.createElement(y.a,{item:!0,xs:6},r.a.createElement(D,{variant:"outlined",color:"secondary",label:"\u56de\u7b54\u3092\u898b\u308b",onClick:n,fullWidth:!0})),r.a.createElement(y.a,{item:!0,xs:6},r.a.createElement(D,{variant:"outlined",color:"primary",label:"\u7b54\u3048\u5408\u305b",onClick:a,fullWidth:!0}))))}),I=["pragma solidity ^0.5.0;","","contract SimpleStorage {","","   uint storedData;","   uint storedData02;","","   function set(uint x, uint y) public {","      storedData = x;","      storedData02 = y;","   }","","   function get() public view returns (uint, uint) {","      return (storedData, storedData02);","   }","}"].join("\n"),A=["pragma solidity ^0.5.0;","","contract SimpleStorage {","","   uint storedData;","   uint storedData02;","","   function set(uint x, uint y) public {","      storedData = x;","      storedData02 = y;","   }","}"].join("\n"),W=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={editor:null,answer:A},a.editorDidMount=function(e,t){e.focus(),a.setState({editor:e,answer:A})},a.diffDidMount=function(e,t){e.focus()},a.handleChange=function(e,t){},a.handleDiffChange=function(e,t){},a.handleSubmit=function(e){e.preventDefault(),a.setState({answer:a.state.editor.getValue()}),a.state.editor.getValue()===I?(a.props.isCorrect(!0),a.props.compile(a.state.editor.getValue())):a.props.isCorrect(!1)},a.showAnswer=function(){console.log("show")},a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(y.a,{container:!0,className:e.height100},r.a.createElement(y.a,{item:!0,xs:12,className:e.editorWrapper},r.a.createElement(S,{width:"100%",height:"100%",language:"solidity",value:this.state.answer,options:{selectOnLineNumbers:!1},onChange:this.handleChange,editorDidMount:this.editorDidMount}),r.a.createElement("div",{className:e.button},r.a.createElement(N,{handleSubmit:this.handleSubmit,showAnswer:this.showAnswer}))),r.a.createElement(y.a,{item:!0,xs:12,className:e.diffWrapper},r.a.createElement(j,{width:"100%",height:"100%",language:"javascript",original:this.state.answer,modified:I,options:{renderSideBySide:!1},onChange:this.handleDiffChange,editorDidMount:this.diffDidMount})))}}]),t}(n.Component),M=Object(v.withStyles)(function(e){return{editorWrapper:{height:"60%",position:"relative"},diffWrapper:{height:"40%"},button:{width:"100%",position:"absolute",bottom:0},height100:{height:"100%"}}})(W),T=a(64),B=a.n(T),J=a(103),U=a.n(J),_=a(255),P=a.n(_),V=function(e){var t=e.label,a=e.src,n=e.subheader,i=e.title;return r.a.createElement(U.a,{avatar:r.a.createElement(P.a,{"aria-label":t,src:a}),subheader:n,title:i})},F=function(e){function t(){return Object(u.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(y.a,{container:!0},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(B.a,null,r.a.createElement(V,{label:"Recipe",src:"https://pbs.twimg.com/profile_images/1030659217315704833/hZKnb7hm_400x400.jpg",subheader:"\u30b3\u30fc\u30b9\u306e\u4f5c\u6210\u8005",title:"\u3053\u3058\u308a\u3087\u30fc"}))),r.a.createElement(y.a,{item:!0,xs:12,className:e.commentary},r.a.createElement("h2",null,"\u8aad\u307f\u8fbc\u307f\u3068\u66f8\u304d\u8fbc\u307f"),r.a.createElement("p",null,"\u95a2\u6570\u5185\u3067\u5ba3\u8a00\u3055\u308c\u305f\u5024\u306fmemory\u3078\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002"),r.a.createElement("p",null,"\u4e00\u65b9\u3067\u95a2\u6570\u5916\u3067\u5ba3\u8a00\u3055\u308c\u305f\u5024\u306fstorage\u3078\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002"),r.a.createElement("p",null,"\u3053\u306estorage\u3078\u4fdd\u5b58\u3055\u308c\u305f\u5024\u306f\u30d6\u30ed\u30c3\u30af\u30c1\u30a7\u30fc\u30f3\u306b\u8a18\u9332\u3055\u308c\u307e\u3059\u3002"),r.a.createElement("p",null,"\u8a66\u3057\u306b\u306a\u3093\u3089\u304b\u306e\u6570\u5024\u3092\u30d6\u30ed\u30c3\u30af\u30c1\u30a7\u30fc\u30f3\u306b\u8a18\u9332\u3059\u308b\u51e6\u7406\u3092\u66f8\u3044\u3066\u3044\u304d\u307e\u3057\u3087\u3046\uff01")))}}]),t}(n.Component),R=Object(v.withStyles)(function(e){return{commentary:{padding:"1%"}}})(F),$=a(259),G=a(63),K=a.n(G),L=a(104),Z=a.n(L),q=a(256),z=a.n(q),H=function(e){var t=e.label,a=e.type,n=e.id,i=e.value,o=e.onChange,c=e.variant,s=e.margin,l=e.placeholder,u=e.dataId;return r.a.createElement(z.a,{type:a,label:t,id:n,value:i,onChange:o,variant:c,margin:s,placeholder:l,fullWidth:!0,"data-id":u})},Q=Object(v.withStyles)(function(e){return{card:{marginBottom:e.spacing.unit}}})(function(e){var t=e.classes,a=e.handleChange,n=e.handleSubmit,i=e.isCorrect,o=e.rpcUrl;return r.a.createElement(B.a,{className:t.card},r.a.createElement(Z.a,null,r.a.createElement(K.a,{gutterBottom:!0,variant:"h5",component:"h2"},"\u30c7\u30d7\u30ed\u30a4"),r.a.createElement("div",{style:{visibility:null===i?"hidden":"visible"}},r.a.createElement(K.a,{component:"p",className:t.text,style:{display:i?"none":"block"}},"\u6b8b\u5ff5\u3001\u4e0d\u6b63\u89e3\u3067\u3059\uff01"),r.a.createElement("div",{style:{visibility:i?"visible":"hidden"}},r.a.createElement(H,{type:"text",label:"Web3 Provider Endpoint",id:"web3-provider-endpoint",value:o,onChange:a,variant:"outlined",margin:"normal"}),r.a.createElement(D,{variant:"contained",color:"primary",label:"\u30c7\u30d7\u30ed\u30a4",onClick:n,fullWidth:!0})))))}),X=function(e,t,a){var n=a.classes,i=a.handleSubmit,o=a.handleChange;return r.a.createElement("div",{key:t,className:n.form},r.a.createElement(D,{variant:"contained",color:"default",label:e.name,onClick:i,fullWidth:!0,dataId:t}),e.inputs.map(function(e,a){return r.a.createElement("div",{key:a},r.a.createElement(H,{type:"text",label:e.name,id:a.toString(),value:e.value,onChange:o,variant:"outlined",margin:"dense",dataId:t,placeholder:e.type}))}))},Y=Object(v.withStyles)(function(e){return{form:{marginBottom:e.spacing.unit},console:{height:"100px",overflow:"auto",backgroundColor:"#1e1e1e",marginBottom:e.spacing.unit,padding:e.spacing.unit}}})(function(e){var t=e.classes,a=e.txInterface,n=e.result;return r.a.createElement(B.a,null,r.a.createElement(U.a,{title:"\u30b3\u30f3\u30c8\u30e9\u30af\u30c8"}),r.a.createElement(Z.a,null,r.a.createElement("div",{className:t.console},n.map(function(e,t){return r.a.createElement(K.a,{component:"p",noWrap:!0,key:t,color:"secondary"},e)})),a.map(function(t,a){return X(t,a,e)})))}),ee=a(141),te=function(e){return"view"===e?"eth_call":"eth_sendTransaction"},ae=function(e){var t="0x"+e.signature;return e.inputs.forEach(function(e){var a=g.a.utils.toTwosComplement(e.value);a=a.replace(/^0x/,""),t+=a}),t},ne=function(e){var t=e.data,a={jsonrpc:"2.0",id:1,method:"",params:[]},n=te(t.stateMutability);return e.data=ae(t),a.method=n,a.params.push(e),a=JSON.stringify(a)},re=new(a(257).AbiCoder),ie=function(e,t){return re.decodeParameters(e,t)},oe=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={rpcUrl:"http://127.0.0.1:7545",signerAddress:"",ontractAddress:"",txInterface:[],result:[]},a.handleChange=function(e){e.target.value.match(/[\s\t]/)||a.setState({rpcUrl:e.target.value})},a.deploy=Object(l.a)(s.a.mark(function e(){var t,n,r,i,o,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!0===a.props.isCorrect){e.next=2;break}return e.abrupt("return");case 2:return t=a.props.compiledCode.contracts,e.prev=3,n=new ee.ethers.providers.JsonRpcProvider(a.state.rpcUrl),e.next=7,n.listAccounts();case 7:return r=e.sent,i=n.getSigner(r[0]),o=ee.ethers.ContractFactory.fromSolidity(t["test.sol"].SimpleStorage,i),e.next=12,o.deploy();case 12:return c=e.sent,e.next=15,c.deployed();case 15:return e.next=17,a.generateTxInterface(t["test.sol"].SimpleStorage);case 17:a.setState({signerAddress:i._address,contractAddress:c.address}),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(3),alert("Failed.");case 23:case"end":return e.stop()}},e,this,[[3,20]])})),a.generateTxInterface=function(){var e=Object(l.a)(s.a.mark(function e(t){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,t.abi.map(function(e,a){var r,i=[];if(e.inputs.length>0){r=e.name+"(";for(var o=0;o<e.inputs.length;o++){r=r+e.inputs[o].type+",",i.push({name:e.inputs[o].name,type:e.inputs[o].type,value:""})}r=r.replace(/,$/,")")}else r=e.name+"()";return n.push({name:r,inputs:i,outputs:e.outputs,signature:t.evm.methodIdentifiers[r],stateMutability:e.stateMutability}),n});case 3:a.setState({txInterface:a.state.txInterface.concat(n)});case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a.changeArgument=function(e){if(!e.target.value.match(/[\s\t]/)){var t=Number(e.target.parentElement.parentElement.dataset.id),n=Number(e.target.id),r=a.state.txInterface.concat(),i=Object($.a)(r[t].inputs);i[n].value=e.target.value,r[t].iputs=i,a.setState({txInterface:r},console.log(a.state.txInterface))}},a.runTransaction=function(){var e=Object(l.a)(s.a.mark(function e(t){var n,r,i,o,c,l,u,d,m;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state,r=n.rpcUrl,i=n.txInterface,o=Number(t.target.parentElement.dataset.id),c={from:a.state.signerAddress,to:a.state.contractAddress,data:i[o],value:""},l=ne(c),e.next=6,fetch(r,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:l});case 6:return u=e.sent,e.next=9,u.json();case 9:d=e.sent,m=d.result,i[o].outputs.length>0&&(m=JSON.stringify(ie(i[o].outputs,m))),a.setState({result:a.state.result.concat([m])});case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.isCorrect;return r.a.createElement(y.a,{container:!0},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Q,{handleChange:this.handleChange,handleSubmit:this.deploy,isCorrect:e,rpcUrl:this.state.rpcUrl})),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(Y,{handleChange:this.changeArgument,handleSubmit:this.runTransaction,txInterface:this.state.txInterface,result:this.state.result})))}}]),t}(n.Component),ce=a(258)(a(251)),se=(a(771),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={web3:null,accounts:null,contract:null,isCorrect:null,compiledCode:null},a.isCorrect=function(e){a.setState({isCorrect:e})},a.compile=function(){var e=Object(l.a)(s.a.mark(function e(t){var n,r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n={language:"Solidity",sources:{"test.sol":{content:t}},settings:{outputSelection:{"*":{"*":["*"]}}}},r=JSON.parse(ce.compile(JSON.stringify(n))),a.setState({compiledCode:r}),console.log(r);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.root},r.a.createElement(y.a,{container:!0,className:e.height100,spacing:16},r.a.createElement(y.a,{item:!0,xs:4},r.a.createElement(w.a,{className:e.boxCommon},r.a.createElement(R,null))),r.a.createElement(y.a,{item:!0,xs:5},r.a.createElement(w.a,{className:e.boxCommon},r.a.createElement(M,{isCorrect:this.isCorrect,compile:this.compile}))),r.a.createElement(y.a,{item:!0,xs:3},r.a.createElement("div",{className:e.boxCommon},r.a.createElement(oe,{isCorrect:this.state.isCorrect,compiledCode:this.state.compiledCode})))))}}]),t}(n.Component)),le=Object(v.withStyles)(function(e){return{root:{flexGrow:1,padding:e.spacing.unit,height:"100%"},boxCommon:{height:"100%"},height100:{height:"100%"}}})(se);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[260,2,1]]]);
//# sourceMappingURL=main.01faa32b.chunk.js.map